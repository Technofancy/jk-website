# name: Build and Deploy React App to cPanel via FTP

# on:
#   push:
#     branches:
#       - main  # This will trigger the deployment whenever you push to the "main" branch

# jobs:
#   build:
#     runs-on: ubuntu-latest

#     steps:
#     - name: Checkout code
#       uses: actions/checkout@v2  # This checks out your code from the GitHub repository

#     - name: Set up Node.js
#       uses: actions/setup-node@v2  # This installs Node.js on the runner
#       with:
#         node-version: '22.19.0'  # Vite is compatible with Node.js 16 (adjust if you need a different version)

#     - name: Install dependencies
#       run: npm install  # Installs all dependencies listed in package.json

#     - name: Build React app using Vite
#       run: npm run build  # Builds the production version of your React app using Vite

#     - name: Debug dist folder existence
#       run: |
#         echo "Listing files in the dist directory:"
#         ls -alh ./dist

#     - name: Deploy to cPanel via FTP
#       uses: SamKirkland/FTP-Deploy-Action@4.1.0  # This action uploads your build to cPanel
#       with:
#         server: ${{ secrets.FTP_SERVER }}  # FTP server (e.g., ftp.jarokilo.org.np)
#         username: ${{ secrets.FTP_USERNAME }}  # FTP username (jarokilonp)
#         password: ${{ secrets.FTP_PASSWORD }}  # FTP password
#         local-dir: ./dist/  # Path to the local directory (ensure it ends with "/")
#         server-dir: /publichtml/react/  # Correct input: Directory on the server where the app will be uploaded (ensure it ends with "/")
